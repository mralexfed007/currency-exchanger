{"version":3,"sources":["reducer.js","store.js","actions.js","components/CurrencyExchange/CurrencyExchange.jsx","App.jsx","index.js"],"names":["initialState","currencyA","value","currencyB","currentRate","exchangeRate","composedEnhancer","composeWithDevTools","applyMiddleware","thunkMiddleware","store","createStore","state","action","baseCode","base_code","conversionRates","conversion_rates","type","actions","dispatch","a","fetch","then","res","json","currencyDependence","CurrencyExchange","useDispatch","useSelector","useEffect","numRound","useCallback","num","Math","round","className","class","onChange","target","placeholder","disabled","selected","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2afb361a.chunk.js","sourcesContent":["/* eslint-disable no-unreachable */\nconst initialState = {\n  currencyA: '',\n  value: 0,\n  currencyB: '',\n  currentRate: 1,\n  exchangeRate: {}\n};\n\nexport default function reducer(state = initialState, action) {\n  const { value: { base_code: baseCode, conversion_rates: conversionRates } = {}} = action;\n  switch (action.type) {\n    case 'EDIT_VALUE_A':\n      return {\n        ...state,\n        value: +action.value,\n      }\n      break;\n    case 'EDIT_VALUE_B':\n      return {\n        ...state,\n        value: +action.value / state.currentRate,\n      }\n      break;\n    case 'SWITCH_CURRENCY_A':\n      return {\n        ...state,\n        currencyA: baseCode,\n        exchangeRate: conversionRates,\n        currentRate: (action.baseCode === state.currencyB || state.currencyB === '')\n          ? 1\n          : +conversionRates[state.currencyB],\n      }\n      break;\n      case 'SWITCH_CURRENCY_B':\n        return {\n          ...state,\n          currencyB: action.value,\n          currentRate: (state.currencyA === action.value)\n          ? 1\n          : +state.exchangeRate[action.value],\n        }\n      break;\n  \n    default:\n      return state;\n  }\n}","import { createStore, applyMiddleware } from 'redux'\nimport thunkMiddleware from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport reducer from './reducer'\n\nconst composedEnhancer = composeWithDevTools(applyMiddleware(thunkMiddleware))\n\nconst store = createStore(reducer, composedEnhancer)\nexport default store\n","const EDIT_VALUE_A = 'EDIT_VALUE_A';\nconst EDIT_VALUE_B = 'EDIT_VALUE_B';\nconst SWITCH_CURRENCY_A = 'SWITCH_CURRENCY_A';\nconst SWITCH_CURRENCY_B = 'SWITCH_CURRENCY_B';\nconst API_URL = 'https://v6.exchangerate-api.com/v6/1bbd663a750c53c98492697e/latest/';\n\nexport const actions = {\n  editA: (value) => ({ type: EDIT_VALUE_A, value }),\n    \n  editB: (value) => ({ type: EDIT_VALUE_B, value }),\n  switchA: (value) => {\n    return async(dispatch) => {\n      const currencyDependence = await fetch(`${API_URL+value}`).then(res => res.json());\n\n      dispatch({ type: SWITCH_CURRENCY_A, value: currencyDependence })\n    }\n  },\n  switchB: (value) => ({ type: SWITCH_CURRENCY_B, value }),\n}","import { useCallback, useEffect } from 'react';\nimport { useDispatch, useSelector  } from 'react-redux'\nimport { actions } from '../../actions';\n\n\nexport const CurrencyExchange = () => {\n  const dispatch = useDispatch()\n  const value = useSelector(state => state.value)\n  const currencyA = useSelector(state => state.currencyA)\n  const currencyB = useSelector(state => state.currencyB)\n  const currentRate = useSelector(state => state.currentRate)\n\n  useEffect(() => {\n    dispatch(actions.switchA('UAH'))\n  }, [dispatch])\n\n  const numRound = useCallback((num) => Math.round(num * 100) / 100, [])\n\n  return (\n    <div className=\"container\">\n      <p class=\"title is-2 is-spaced\">Currency Converter</p>\n      <div className=\"card\">\n        <div className=\"card-content\">\n          <div class=\"field has-addons\">\n            <p class=\"control\">\n              <span class=\"select\">\n                <select\n                  value={currencyA}\n                  onChange={({target}) => dispatch(actions.switchA(target.value))}\n                >\n                  <option>UAH</option>\n                  <option>USD</option>\n                  <option>EUR</option>\n                  <option>RUB</option>\n                </select>\n              </span>\n            </p>\n            <p class=\"control\">\n              <input\n                value={numRound(value)}\n                onChange={({target}) => dispatch(actions.editA(target.value))}\n                class=\"input\"\n                type=\"text\"\n                placeholder=\"Amount of money\"\n              />\n            </p>\n            <p class=\"control\">\n            <span class=\"icon\">\n              <i class=\"fas fa-exchange-alt\"></i>\n            </span>\n            </p>\n            <p class=\"control\">\n              <input\n                value={numRound(value * currentRate)}\n                onChange={({target}) => dispatch(actions.editB(target.value))}\n                class=\"input\"\n                type=\"text\"\n                placeholder=\"Amount of money\"\n              />\n            </p>\n            <p class=\"control\">\n              <span class=\"select\">\n                <select\n                  value={currencyB}\n                  onChange={({target}) => dispatch(actions.switchB(target.value))}\n                >\n                  <option value=\"\" disabled selected>\n                    Select currency\n                  </option>\n                  <option>UAH</option>\n                  <option>USD</option>\n                  <option>EUR</option>\n                  <option>RUB</option>\n                </select>\n              </span>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n\n};","import 'bulma';\nimport './App.css';\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport { CurrencyExchange } from './components/CurrencyExchange';\n\nfunction App() {\n  return (\n    <CurrencyExchange />\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport store from './store';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n    <App />\n  </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}